function addEvent(e,o,a){e.attachEvent?e.attachEvent("on"+o,a):e.addEventListener(o,a,!0)}function mouseScroll(e){if(""==id_bubble_locked){for(var e=window.event||e,o=!1,a=e.target;;){if("content"==a.className){o=!0;break}if(null==a.offsetParent)break;a=a.offsetParent}if(!o){var n=.02*Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));zoomMap+=n,changeZoom(zoomMap,!1)}}return!1}function changeZoom(e){zoomMap=.04>e?.04:e>1.4?1.4:e,$("#bubbles_container").scale(zoomMap,zoomMap),$(".link .link_intensite").scale(1/zoomMap,1/zoomMap);var o=angular.element($("#bubbles_super_wrap")).scope();o.$apply(function(){o.zoom=1/zoomMap})}var zoomMap=1;addEvent(document,"mousewheel",mouseScroll),addEvent(document,"DOMMouseScroll",mouseScroll),jQuery.fn.scale=function(e,o){return $(this).css({"-webkit-transform":"scale("+e+","+o+")","-moz-transform":"scale("+e+","+o+")","-ms-transform":"scale("+e+","+o+")",transform:"scale("+e+","+o+")"}),$(this)};